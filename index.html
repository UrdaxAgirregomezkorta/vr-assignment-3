<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Teleport VR World (Updated Map)</title>
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>

    <script>
      AFRAME.registerComponent("teleport-point", {
        schema: { target: { type: "vec3" } },
        init: function () {
          const el = this.el;
          const rig = document.querySelector("#rig");
          const target = this.data.target;

          el.addEventListener("click", () => {
            rig.setAttribute("animation", {
              property: "position",
              to: `${target.x} ${target.y} ${target.z}`,
              dur: 600,
              easing: "easeInOutQuad",
            });
          });

          // Hover feedback
          el.addEventListener("mouseenter", () => {
            el.setAttribute("scale", "1.3 0.1 1.3");
          });
          el.addEventListener("mouseleave", () => {
            el.setAttribute("scale", "1 0.1 1");
          });
        },
      });
    </script>
  </head>
  <body>
    <a-scene>
      <!-- Environment -->
      <a-sky color="#87CEEB"></a-sky>
      <a-light type="ambient" intensity="0.6"></a-light>
      <a-light type="directional" position="2 4 3" intensity="1.2"></a-light>

      <a-plane rotation="-90 0 0" width="60" height="60" color="#3E7D3E"></a-plane>

      <!-- Camera Rig -->
      <a-entity id="rig" position="0 0 0">
        <a-entity camera position="0 1.6 0" look-controls>
          <a-cursor color="#FF0000" raycaster="objects: .teleport"></a-cursor>
        </a-entity>
      </a-entity>

      <!-- Obstacles -->
      <a-box position="3 1 -5" width="2" height="2" depth="2" color="#8B4513"></a-box>
      <a-box position="-7 0.5 -8" width="3" height="1" depth="3" color="#A0522D"></a-box>
      <a-cylinder position="7 1 -7" radius="1" height="2" color="#444"></a-cylinder>
      <a-cylinder position="-3 0.75 -3" radius="0.8" height="1.5" color="#654321"></a-cylinder>
      
      <!-- More obstacles for variety -->
      <a-box position="2 0.5 -12" width="2" height="1" depth="2" color="#6B4423"></a-box>
      <a-box position="-4 1 -14" width="1.5" height="2" depth="1.5" color="#8B7355"></a-box>
      <a-cylinder position="5 1 -10" radius="0.7" height="2" color="#2F4F4F"></a-cylinder>
      <a-cylinder position="-9 0.8 -12" radius="0.9" height="1.6" color="#556B2F"></a-cylinder>
      <a-box position="9 0.75 -5" width="1.5" height="1.5" depth="1.5" color="#8B4513"></a-box>
      <a-cylinder position="-1 1 -18" radius="1.2" height="2" color="#483D8B"></a-cylinder>
      <a-box position="8 0.5 -16" width="2" height="1" depth="2" color="#A0522D"></a-box>
      <a-box position="-6 0.75 -2" width="1.5" height="1.5" depth="1.5" color="#8B6914"></a-box>

      <!-- Decorative barriers and walls -->
      <a-box position="12 0.5 -12" width="1" height="1" depth="5" color="#555"></a-box>
      <a-box position="-12 0.5 -4" width="1" height="1" depth="6" color="#555"></a-box>
      <a-box position="0 0.5 -22" width="12" height="1" depth="1" color="#555"></a-box>
      <a-box position="14 0.5 -8" width="1" height="1" depth="8" color="#555"></a-box>
      <a-box position="-14 0.5 -8" width="1" height="1" depth="8" color="#555"></a-box>

      <!-- TELEPORT POINTS -->
      <a-cylinder
        class="teleport"
        position="0 0.05 2"
        radius="1"
        height="0.1"
        color="#FF0000"
        material="emissive: #FF0000; emissiveIntensity: 2"
        teleport-point="target: 0 0 2"
      >
        <a-text value="Start" position="0 0.2 0" align="center" color="#000"></a-text>
      </a-cylinder>

      <a-cylinder
        class="teleport"
        position="6 0.05 -5"
        radius="1"
        height="0.1"
        color="#00FFFF"
        material="emissive: #00FFFF; emissiveIntensity: 2"
        teleport-point="target: 6 0 -5"
      ></a-cylinder>

      <a-cylinder
        class="teleport"
        position="-8 0.05 -8"
        radius="1"
        height="0.1"
        color="#FFFF00"
        material="emissive: #FFFF00; emissiveIntensity: 2"
        teleport-point="target: -8 0 -8"
      ></a-cylinder>

      <a-cylinder
        class="teleport"
        position="3 0.05 -13"
        radius="1"
        height="0.1"
        color="#FF00FF"
        material="emissive: #FF00FF; emissiveIntensity: 2"
        teleport-point="target: 3 0 -13"
      ></a-cylinder>

      <a-cylinder
        class="teleport"
        position="11 0.05 -12"
        radius="1"
        height="0.1"
        color="#00FF00"
        material="emissive: #00FF00; emissiveIntensity: 2"
        teleport-point="target: 11 0 -12"
      ></a-cylinder>

      <a-cylinder
        class="teleport"
        position="-11 0.05 -4"
        radius="1"
        height="0.1"
        color="#FFA500"
        material="emissive: #FFA500; emissiveIntensity: 2"
        teleport-point="target: -11 0 -4"
      ></a-cylinder>

      <a-cylinder
        class="teleport"
        position="0 0.05 -6"
        radius="1"
        height="0.1"
        color="#FF69B4"
        material="emissive: #FF69B4; emissiveIntensity: 2"
        teleport-point="target: 0 0 -6"
      ></a-cylinder>

      <!-- Instructions -->
      <a-text
        value="Look at the glowing pads to teleport | Navigate around obstacles!"
        position="0 2 -2"
        align="center"
        width="7"
        color="#000"
      ></a-text>
    </a-scene>
  </body>
</html>
